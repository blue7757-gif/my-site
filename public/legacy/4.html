// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDqTLb28DDZ6oJqSzzLWBBu_uKKoL6SFcY",
  authDomain: "creat-mypage.firebaseapp.com",
  projectId: "creat-mypage",
  storageBucket: "creat-mypage.firebasestorage.app",
  messagingSenderId: "1008239068045",
  appId: "1:1008239068045:web:fc2f0d48a162cdcba073c4",
  measurementId: "G-ZSHV0FK6XV"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EST-Sample - 내신기출문제</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";}
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800">
  <!-- Header -->
  <header class="border-b bg-white">
    <div class="mx-auto max-w-6xl px-4 py-4 flex items-center justify-between gap-4">
      <!-- Logo => 홈으로 이동 -->
      <a href="home.html" class="flex items-center gap-2 select-none">
        <svg viewBox="0 0 100 100" class="h-7 w-7" aria-hidden="true">
          <defs>
            <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#f43f5e" />
              <stop offset="50%" stop-color="#fb923c" />
              <stop offset="100%" stop-color="#22d3ee" />
            </linearGradient>
          </defs>
          <polygon points="25,15 85,50 25,85" fill="url(#g)" />
        </svg>
        <span class="text-2xl font-bold tracking-tight">EST-Sample</span>
      </a>

      <!-- Search box in header -->
      <form class="flex items-center gap-2 w-full max-w-md" onsubmit="event.preventDefault();">
        <label class="sr-only" for="top-q">검색어</label>
        <input id="top-q" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-4 focus:ring-sky-100" placeholder="학교 검색" />
        <button class="rounded-xl bg-sky-600 px-4 py-2 whitespace-nowrap text-white shadow-sm hover:bg-sky-700 active:scale-[.98]" type="submit">검색</button>
      </form>

      <!-- Auth links -->
      <nav class="hidden md:flex items-center gap-4 text-sm text-slate-600" aria-label="보조 링크">
        <a class="hover:text-slate-900" href="#">로그인</a>
        <span class="text-slate-300">|</span>
        <a class="hover:text-slate-900" href="#">회원가입</a>
        <span class="text-slate-300">|</span>
        <a class="hover:text-slate-900" href="#">마이페이지</a>
      </nav>
    </div>

    <!-- Primary tabs -->
    <div class="border-t bg-gradient-to-r from-violet-600 via-sky-600 to-cyan-500">
      <div class="mx-auto max-w-6xl px-4">
        <ul id="primary-tabs" class="flex flex-wrap gap-2 py-3 text-sm text-white" role="tablist">
          <li><a href="index.html" class="rounded-xl px-16 py-2 inline-block bg-white/20 ring-1 ring-white/40" aria-current="page">내신기출문제</a></li>
          <li><a href="middle.html" class="rounded-xl bg-white/10 px-16 py-2 inline-block hover:bg-white/20">중등자료</a></li>
          <li><a href="high.html" class="rounded-xl bg-white/10 px-16 py-2 inline-block hover:bg-white/20">고등자료</a></li>
          <li><a href="mock.html" class="rounded-xl bg-white/10 px-16 py-2 inline-block hover:bg-white/20">모의고사</a></li>
          <li><a href="help.html" class="rounded-xl bg-white/10 px-16 py-2 inline-block hover:bg-white/20">이용안내·문의</a></li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="mx-auto max-w-6xl px-4 py-6">
    <!-- Filter + list -->
    <section class="flex flex-col gap-4">
      <div class="flex items-stretch gap-3">
        <!-- Filter card -->
        <div class="rounded-2xl border bg-white p-4 shadow-sm flex-1" id="filter-card">
          <!-- Row 1 -->
          <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 items-center">
            <select id="si" class="rounded-xl border px-2 py-2 text-sm"><option value="">시/도</option></select>
            <select id="gu" class="rounded-xl border px-2 py-2 text-sm"><option value="">구/군</option></select>
            <select id="level" class="rounded-xl border px-4 py-2 text-sm lg:col-span-2 min-w-0">
              <option value="">중/고등학교</option>
              <option value="중학교">중학교</option>
              <option value="고등학교">고등학교</option>
            </select>
            <select id="grade" class="rounded-xl border px-2 py-2 text-sm">
              <option value="">학년</option><option value="1">1학년</option><option value="2">2학년</option><option value="3">3학년</option>
            </select>
            <div class="flex items-center gap-2 w-full">
              <button id="searchBtnTop" class="shrink-0 w-full h-10 rounded-xl bg-sky-600 text-white shadow-sm hover:bg-sky-700">검색</button>
            </div>
          </div>

          <!-- Row 2 -->
          <div class="mt-3 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 items-center">
            <select id="year" class="rounded-xl border px-2 py-2 text-sm"><option value="">기출년도</option></select>
            <select id="exam" class="rounded-xl border px-2 py-2 text-sm">
              <option value="">중간/기말</option><option value="중간">중간</option><option value="기말">기말</option>
            </select>
            <input id="keyword" class="rounded-xl border px-3 py-2 text-sm lg:col-span-2" placeholder="학교, 과목, 닉네임, 출판사로 검색" />
            <label class="inline-flex items-center gap-1 text-sm">
              <input id="need-solution" type="checkbox" class="h-4 w-4 rounded border-slate-300" />
              <span>해설</span>
            </label>
            <label class="inline-flex items-center gap-1 text-sm">
              <input id="need-video" type="checkbox" class="h-4 w-4 rounded border-slate-300" />
              <span>동영상</span>
            </label>
            <button id="uploadBtn" class="h-10 rounded-xl bg-sky-600 text-white shadow-sm hover:bg-sky-700 whitespace-nowrap">기출 올리기</button>
          </div>

          <div class="mt-3 text-xs text-slate-500 leading-6">
            <p><span class="text-rose-500">①</span> <span class="font-medium">경제</span>로 검색하면 경제 수학이 검색됩니다.</p>
            <p><span class="text-rose-500">②</span> <span class="font-medium">과제</span>로 검색하시면 수학과제탐구가 검색됩니다.</p>
          </div>
        </div>
      </div>

      <!-- Results (샘플 데이터) -->
      <div class="rounded-2xl border bg-white shadow-sm overflow-hidden">
        <div class="border-b bg-slate-50 px-4 py-3 text-sm font-semibold">
          <span id="result-title">검색 결과</span>
          <span id="result-count" class="text-slate-400 font-normal"></span>
        </div>
        <div id="results" class="divide-y"></div>
      </div>

      <!-- 업로드 게시판 -->
      <div class="rounded-2xl border bg-white shadow-sm overflow-hidden">
        <div class="border-b bg-slate-50 px-4 py-3 text-sm font-semibold">
          내신기출 업로드 게시판 <span id="board-count" class="text-slate-400 font-normal"></span>
        </div>
        <div id="board-list" class="divide-y"></div>
      </div>
    </section>
  </main>

  <footer class="mt-10 border-t bg-white">
    <div class="mx-auto max-w-6xl px-4 py-8 text-xs text-slate-500">© 2025 EST-Sample. All rights reserved.</div>
  </footer>

  <!-- 업로드 모달 -->
  <div id="uploadModal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/40"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <form id="uploadForm" class="w-full max-w-2xl rounded-2xl bg-white shadow-xl border p-5 space-y-4">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold">기출 올리기</h3>
          <button type="button" id="closeUpload" class="px-2 py-1 text-slate-500 hover:text-slate-900">닫기 ✕</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <input class="rounded-xl border px-3 py-2 text-sm" id="uSchool" placeholder="학교명 *" required />
          <input class="rounded-xl border px-3 py-2 text-sm" id="uSubject" placeholder="과목 (예: 수학)" />
          <div class="grid grid-cols-2 gap-3">
            <select id="uLevel" class="rounded-xl border px-3 py-2 text-sm" required>
              <option value="">중/고등</option><option>중학교</option><option>고등학교</option>
            </select>
            <select id="uGrade" class="rounded-xl border px-3 py-2 text-sm" required>
              <option value="">학년</option><option>1</option><option>2</option><option>3</option>
            </select>
          </div>
          <div class="grid grid-cols-2 gap-3">
            <select id="uYear" class="rounded-xl border px-3 py-2 text-sm" required>
              <option value="">연도</option>
            </select>
            <select id="uExam" class="rounded-xl border px-3 py-2 text-sm" required>
              <option value="">중간/기말</option><option>중간</option><option>기말</option>
            </select>
          </div>
          <input class="rounded-xl border px-3 py-2 text-sm" id="uUnit" placeholder="단원/유형 (예: 중2-2)" />
          <input class="rounded-xl border px-3 py-2 text-sm" id="uPublisher" placeholder="출판사" />
          <input class="rounded-xl border px-3 py-2 text-sm" id="uNick" placeholder="닉네임" />
          <div class="flex items-center gap-6 px-1">
            <label class="inline-flex items-center gap-2 text-sm">
              <input id="uHasSol" type="checkbox" class="h-4 w-4 rounded border-slate-300" /> 해설 포함
            </label>
            <label class="inline-flex items-center gap-2 text-sm">
              <input id="uHasVid" type="checkbox" class="h-4 w-4 rounded border-slate-300" /> 동영상 포함
            </label>
          </div>
          <div class="md:col-span-2">
            <label class="text-sm block mb-1">파일 (PDF / 이미지) * — 최대 10MB</label>
            <input id="uFile" type="file" accept="application/pdf,image/*" class="w-full rounded-xl border px-3 py-2 text-sm" required />
          </div>
        </div>

        <div class="flex items-center justify-end gap-2 pt-2">
          <button type="button" id="cancelUpload" class="rounded-xl border px-4 py-2 text-sm hover:bg-slate-50">취소</button>
          <button class="rounded-xl bg-sky-600 px-4 py-2 text-sm text-white hover:bg-sky-700">올리기</button>
        </
